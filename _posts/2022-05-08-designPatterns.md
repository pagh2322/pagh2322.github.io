---
title: MVC Pattern
description: 많은 어플리케이션에서 쓰이는 디자인 패턴
categories:
- Design Pattern
tags:
- Design Pattern
- MVC
---

# 디자인 패턴 - MVC
기존에 SwiftUI를 공부하다가 곧 `UIKit`를 하게 되면서 해당 프레임워크에 쓰이는 패턴이 `MVC`이라고 들었다.

`MVC`는 `Model`, `View`, `Controller`로 구성된다.

![](/images/designPattern/MVC/mvcDiagram.png)

# 구성
## Model
해당 어플리케이션의 정보 및 데이터를 대표한다.

### 사용자가 편집하길 원하는 모든 데이터를 가지고 있다
예를 들어, 화면 안의 네모박스에 글자가 표현된다면

* 네모박스의 화면 위치 정보
* 네모박스의 크기정보
* 글자내용
* 글자의 위치
* 글자의 포맷 정보 등
 
을 가지고 있어야 한다.

### View와 Controller에 관한 어떠한 정보도 알면 안된다
데이터의 변경이 일어났을 때 Model에서 화면의 UI를 직접 조정해서 수정할 수 있도록 View를 참조하는 내부 속성값을 가지면 안 된다.

### 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야 한다
모델의 속성 값이 변경되면, 이벤트를 발생시켜 누군가에게 전달해야 하며, 누군가 모델을 변경하도록 요청하는 이벤트를 보냈을 때 이를 수신할 수 있는 처리 방법을 구현해야 한다. 모델은 재사용이 가능해야 하며 다른 인터페이스에서도 변하지 않아야 한다.

## View
데이터를 기반으로 사용자들이 볼 수 있는 화면이다.

### Model이 가진 정보를 따로 저장하면 안된다
화면에 데이터를 표시 하기 위해선 모델이 가지고 있는 정보를 전달받게 될텐데, 그 정보를 유지하기 위해서 임의의 View 내부에 저장하면 안된다. 예를 들어, 단순히 네모 박스를 그리라는 명령을 받으면, 화면에 표시하기만 하고 그 화면을 그릴 때 필요한 정보들은 저장하지 않아야 한다.

### Model과 Controller를 몰라야 한다
다른 요소는 참조하거나 어떻게 동작하는지 알아서는 안된다.

### 변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다
변경이 일어났을 때 이를 누군가에게 변경을 알려줘야 하는 방법을 구현해야 하며, View에서는 사용자가 표시된 내용을 변경하게 되면 이를 Model에게 전달해서 Model을 변경해야 할 것이다. 그 작업을 하기 위해 변경 통지를 구현애햐 한다.

## Controller
데이터와 사용자인터페이스 요소들을 잇는 다리역할을 한다. 사용자가 화면에 있는 데이터를 클릭하고, 수정하는 것에 대한 "이벤트"들을 처리하는 부분을 맡는다.

### Model이나 View에 대해 알고 있어야 한다
Model과 View는 서로의 존재를 모르기에 변경을 외부로 알리고, 수신하는 방법만 가지고 있다. 이를 Controller가 중재하기에 Model과 관련된 View에 대해서 알고 있어야 합니다.

### Model이나 View의 변경을 모니터링 해야 한다
Model이나 View의 변경 통지를 받으면 이를 해석해서 각 구성 요소에게 통지를 해야 합니다. 또한, 애플리케이션의 메인 로직은 Controller가 담당하게 됩니다. 

# 정리
Model과 View는 **서로에게** 메시지를 절대 보내지 않는다.

Controller는 Model과 View를 알아도 되지만 (인스턴스 변수로 직접 가져도 되지만), Model은 View를 **모르는 상태**에서 데이터를 보낸다. 이는 결합도를 낮춰서 재사용이 가능하고 유연한 구조를 만들기 위해서다.

Model쪽으로 향하는 로직(입력 흐름)과, View쪽으로 향하는 로직(출력 흐름)은 분리한다.

Model에선 주로

* HTTP요청을 보내는 코드
* 응답을 파싱하는 코드
* DB에 데이터를 저장하는 코드
* 데이터 모델을 관리하는 코드
* 각종 상수
* 자주 사용하는 헬퍼 함수
 
등이 들어간다.

View에는 데이터를 보여주고, 사용자가 인터랙션을 할 수 있게 만들어주는 최소한의 코드만 들어간다. (UI를 담당하는 코드)

나머지는 Controller에게 위임한다.

# 참고 링크
[[개발자 면접준비]#1. MVC패턴이란](https://m.blog.naver.com/jhc9639/220967034588)